'.text.drupal':
  'hook_block_list_alter':
    'prefix': 'hook_block_list_alter'
    'body': '/**\n * Implements hook_block_list_alter().\n */\nfunction $1_block_list_alter(&\$blocks) {\n  // This example shows how to achieve language specific visibility setting for\n  // blocks.\n  /*\n   *global \$language, \$theme_key;\n   *\$result = db_query(\'SELECT module, delta, language FROM {my_table}\');\n   *\$block_languages = array();\n   *foreach (\$result as \$record) {\n   *  \$block_languages[\$record->module][\$record->delta][\$record->language] = TRUE;\n   *}\n   *\n   *foreach (\$blocks as \$key => \$block) {\n   *  // Any module using this alter should inspect the data before changing it,\n   *  // to ensure it is what they expect.\n   *  if (!isset(\$block->theme) || !isset(\$block->status) || \$block->theme != \$theme_key || \$block->status != 1) {\n   *    // This block was added by a contrib module, leave it in the list.\n   *    continue;\n   *  }\n   *\n   *  if (!isset(\$block_languages[\$block->module][\$block->delta])) {\n   *    // No language setting for this block, leave it in the list.\n   *    continue;\n   *  }\n   *\n   *  if (!isset(\$block_languages[\$block->module][\$block->delta][\$language->language])) {\n   *    // This block should not be displayed with the active language, remove\n   *    // from the list.\n   *    unset(\$blocks[\$key]);\n   *  }\n   *}\n   */\n  ${1:/* Your code here */}\n}'