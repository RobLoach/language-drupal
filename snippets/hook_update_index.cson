'.text.drupal':
  'hook_update_index':
    'prefix': 'hook_update_index'
    'body': '/**\n * Implements hook_update_index().\n */\nfunction $1_update_index() {\n  /*\n   *  \$limit = (int)variable_get(\'search_cron_limit\', 100);\n   *\n   *  \$result = db_query_range("SELECT n.nid FROM {node} n LEFT JOIN {search_dataset} d ON d.type = \'node\' AND d.sid = n.nid WHERE d.sid IS NULL OR d.reindex <> 0 ORDER BY d.reindex ASC, n.nid ASC", 0, \$limit);\n   *\n   *  foreach (\$result as \$node) {\n   *    \$node = node_load(\$node->nid);\n   *\n   *    // Save the changed time of the most recent indexed node, for the search\n   *    // results half-life calculation.\n   *    variable_set(\'node_cron_last\', \$node->changed);\n   *\n   *    // Render the node.\n   *    node_build_content(\$node, \'search_index\');\n   *    \$node->rendered = drupal_render(\$node->content);\n   *\n   *    \$text = \'<h1>\' . check_plain(\$node->title) . \'</h1>\' . \$node->rendered;\n   *\n   *    // Fetch extra data normally not visible\n   *    \$extra = module_invoke_all(\'node_update_index\', \$node);\n   *    foreach (\$extra as \$t) {\n   *      \$text .= \$t;\n   *    }\n   *\n   *    // Update index\n   *    search_index(\$node->nid, \'node\', \$text);\n   *  }\n   */\n  ${1:/* Your code here */}\n}'